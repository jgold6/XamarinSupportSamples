<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
	<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
	<title>Xamarin University</title>
	<script src="https://google-code-prettify.googlecode.com/svn/loader/run_prettify.js"></script>
	<link rel="stylesheet" type="text/css" href="./res/styles/normalize.css">
	<link rel="stylesheet" type="text/css" href="./res/styles/styles.css">
	<script src="./res/js/script.js"></script>
</head>

<body>
	<header>ListViews and Adapters in Android</header>

	<section id="main">

		<h1>Exercise 1: Populate a ListView using an ArrayAdapter</h1>

		<h2>Duration</h2>
		<p>15 minutes</p>

		<!-- - - - - - - - - Goals - - - - - - - - -->

		<h2 id="goals">Lab goals</h2>
		<p>
			The primary goal of this lab is to display a collection of data in a <code>ListView</code>. You will also
			get some experience with the <code>ArrayAdapter</code> class which is useful to display string data and for
			prototyping when you need to build a list quickly. 
		</p>
		
		<p>
			You will create an app that displays a list of the Xamarin University instructors. Each instructor has a
			name, a photo, a specialty, and a biography. An <code>Instructor</code> class and code to generate a
			collection of instructor objects has been provided.
		</p>
		
		<p>	
			Since you will be using <code>ArrayAdapter</code>, you will be limited to displaying a single
			string for each instructor (subsequent parts of this session will use a custom adapter to
			remove this restriction). The starter code concatenates the instructor's name and their specialty
			to form the string to display.
		</p>

		<p>
			The user interface will have a single layout with a <code>ListView</code> as its only child element.
			Your code-behind will create an <code>ArrayAdapter</code> using the sample instructor data and
			load it into the <code>Adapter</code> property of the <code>ListView</code>. The finished project
			will look like this:
		</p>
		<img src="./res/images/Part1.Completed.png" alt="- - - - - - - - - MISSING IMAGE - - - - - - - - - -" />

		<!-- - - - - - - - - Supplied resources - - - - - - - - -->

		<h2>Required assets</h2>
		<p>
			The provided <strong>Part 01 Resources</strong> folder contains resources that you will need in order to complete the lab:

			<ul class="indent-medium">
				<li>
					<strong>Instructor.cs</strong> contains a simple class to represent an instructor.
				</li>

				<li>
					<strong>InstructorData.cs</strong> creates and populates a list of instructor objects. 
				</li>

				<li>
					<strong>Icon.png</strong> contains the Xamarin University icon.
				</li>

				<li>
					The <strong>Part1.Completed</strong> folder contains a completed version of the lab you can use to check your work.
				</li>
			</ul>

		</p>

		<p>
			Please make sure you have this folder before you begin.
		</p>


		<!-- - - - - - - - - Challenge - - - - - - - - -->

		<h2>Exercise challenge</h2>
		<p>
			Use the information in the <a href="./worksheet.html#part1">worksheet</a> to accomplish the <a href="#goals">goals outlined above</a>.
			Alternatively, you can use the <a href="#steps">step-by-step instructions</a> provided below to work through the exercise.
		</p>

		<div class="hintblock">
			<strong>Tip:</strong> If you are doing this exercise live in a session, make sure to make good use of the instructor,
			they are online to answer any questions you have!
		</div>

		<!-- - - - - - - - - Steps - - - - - - - - -->

		<h1 id="steps">Steps</h1>

		<p>
			Below are the step-by-step instructions to implement the exercise.
		</p>

		<h2>Create the project</h2>
		<ol>
			<li>Launch your development environment. You can use either <strong>Xamarin Studio</strong> or <strong>Visual Studio</strong>.</li>

			<li>Create a new <strong>Android Application</strong>. Name it <em>XamarinUniversity</em>.
		</ol>

		<h2>Remove unneeded template code</h2>

		<ol>
			<li>
				Open <strong>Resources/layout/Main.axml</strong>. Remove the <code>Button</code> from the layout.
			</li>

			<li>
				Open <strong>MainActivity.cs</strong>. Remove the following three lines:
<pre class="prettyprint">
int count = 1;
</pre>

<pre class="prettyprint">
Button button = FindViewById&lt;button&gt;(Resource.Id.MyButton);
button.Click += delegate { button.Text = string.Format("{0} clicks!", count++); };
</pre>
			</li>
		</ol>

		<h2>Add branding</h2>
		<ol>
			<li>
				Open <strong>MainActivity.cs</strong>. Locate the <code>ActivityAttribute</code> on the <code>MainActivity</code> class.
				Change the value for the <code>Label</code> property to <strong>Instructors</strong>.
			</li>

			<li>
				Remove the file <strong>Resources/drawable/Icon.png</strong> from the project and replace it with the
				<strong>Icon.png</strong> file from the <strong>Part 01 Resources</strong> folder.
			</li>

			<li>
				Run the app to test your work. You should see the <strong>MainActivity</strong> displayed with the
				Xamarin University icon and the label <strong>Instructors</strong>.
			</li>
		</ol>

		<h2>Add the starter code</h2>
		<ol>
			<li>
				Add the files <strong>Instructor.cs</strong> and <strong>InstructorData.cs</strong> from the
				<strong>Part 01 Resources</strong> folder to the project.
			</li>

			<li>
				Open <strong>Instructor.cs</strong>. Note the override of <code>ToString</code> that concatenates the name and specialty.
			</li>

			<li>
				Open <strong>InstructorData.cs</strong>. Notice the static constructor that creates a list of
				<code>Instructor</code> objects sorted by name. The actual creation of the objects is done in
				the <code>AddInstructors</code> method. In a later part of this session, we will need a larger
				set of data to test scrolling and we will add multiple calls to <code>AddInstructors</code>
				to simulate a large data set. Finally, note the static property named <code>Instructors</code>
				that returns the list of <code>Instructor</code> objects.
			</li>
		</ol>

		<h2>Display the list of instructors</h2>
		<ol>
			<li>
				Open <strong>Resources/layout/Main.axml</strong>.
			</li>

			<li>
				Add a <code>ListView</code> to the <code>LinearLayout</code>.
				Give it an id of <strong>instructorListView</strong> so it can be accessed from code-behind. Set its
				<code>layout_width</code> to <code>match_parent</code> and its <code>layout_height</code> to <code>wrap_content</code>.
			</li>

			<li>
				Open <strong>MainActivity.cs</strong>.
			</li>

			<li>
				Use <code>FindViewById</code> to get a reference to the instructor <code>ListView</code>.
			</li>

			<li>
				Create an <code>ArrayAdapter&lt;Instructor&gt;</code>. You need to pass three things to the constructor:
				<ol>
					<li>
						A context - you can use your Activity object here, i.e. <code>this</code>.
					</li>
					
					<li>
						The id of the layout file to use for the row. Use the predefined Android layout file
						<code>Android.Resource.Layout.SimpleListItem1</code>.
					</li>

					<li>
						The collection of instructors.
					</li>
				</ol>
			</li>

			<li>
				Load the <code>ArrayAdapter</code> into the <code>Adapter</code> property of the <code>ListView</code>.
			</li>

			<li>
				Run the app to test your work. You should see each instructor's name and specialty displayed in a list.
			</li>
		</ol>

		<div class="hintblock">
			<strong>Tip:</strong>
			The Activity you coded here has a UI containing only a <code>ListView</code>. This UI pattern is so common
			that there is a helper class named <code>ListActivity</code> that builds this UI for you.
			<br />
			<br />
			To use it, you would declare <code>ListActivity</code> as the base class for <code>MainActivity</code>.
			The base class automatically generates the <code>ListView</code> for your UI. Your Activity would no longer
			have an <strong>.axml</strong> file nor would it need to call <code>SetContentView</code>. You access the
			generated UI using inherited properties named <code>ListView</code> and <code>Adapter</code>.
		</div>

		<!-- - - - - - - - - Summary - - - - - - - - -->

		<h1>Summary</h1>
		In this lab, you built an Android application that used <code>ListView</code>, <code>ArrayAdapter</code>, and
		a predefined Android layout file to display a collection. <code>ArrayAdapter</code> let you do this
		quickly and with very little code but without much opportunity to provide custom UI formatting.
		<br />
		<br />

		<div class="align-right">
			<a href="../Start%20Here.html">Go Back</a>
		</div>
	</section>

	<footer>Copyright (C) 2014 Xamarin</footer>

</body>

</html>
